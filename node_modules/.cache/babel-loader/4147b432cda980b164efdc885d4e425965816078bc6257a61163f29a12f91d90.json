{"ast":null,"code":"import _objectSpread from\"C:/Users/Inimfon Udoh/links-site/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useLanguage}from'../components/language-provider';import{CategoryFilter}from'../components/category-filter';import{ProviderCard}from'../components/provider-card';import{MapView}from'../components/map-view';import{useTheme}from'../components/theme-provider';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProvidersPage(){const[providers,setProviders]=useState([]);const[selectedCategory,setSelectedCategory]=useState('');const[priceRange,setPriceRange]=useState({min:0,max:1000});const[location,setLocation]=useState('');const{language}=useLanguage();const{theme}=useTheme();useEffect(()=>{fetchProviders();},[selectedCategory,priceRange,location]);const fetchProviders=async()=>{try{const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';const response=await fetch(\"\".concat(API_URL,\"/providers\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({category:selectedCategory,priceRange,location})});const data=await response.json();setProviders(data.providers);}catch(error){console.error('Error fetching providers:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:language==='en'?'Local Providers':'Local Providers'}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:providers.map(provider=>{const normalized={id:typeof provider.id==='string'?provider.id:'',name:typeof provider.name==='string'?provider.name:'',category:typeof provider.category==='string'?provider.category:'',description:typeof provider.description==='string'?provider.description:'',address:typeof provider.address==='string'?provider.address:'',phone:typeof provider.phone==='string'?provider.phone:'',whatsapp:typeof provider.whatsapp==='string'?provider.whatsapp:'',email:typeof provider.email==='string'?provider.email:'',rating:typeof provider.rating==='number'?provider.rating:0,photos:Array.isArray(provider.photos)?provider.photos:[],services:Array.isArray(provider.services)?provider.services:[],prices:Array.isArray(provider.prices)?provider.prices:[],operatingHours:typeof provider.operatingHours==='string'?provider.operatingHours:'',status:typeof provider.status==='string'?provider.status:''};return/*#__PURE__*/_jsx(ProviderCard,{provider:normalized,theme:theme},normalized.id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-96\",children:/*#__PURE__*/_jsx(MapView,{providers:providers,selectedLocation:location,onLocationSelect:loc=>setLocation(loc)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-96\",children:[/*#__PURE__*/_jsx(CategoryFilter,{selectedCategory:selectedCategory,onCategorySelect:setSelectedCategory}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:language==='en'?'Price Range':'Price Range'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:priceRange.min,onChange:e=>setPriceRange(prev=>_objectSpread(_objectSpread({},prev),{},{min:parseInt(e.target.value)})),className:\"w-24 p-1 border rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"to\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:priceRange.max,onChange:e=>setPriceRange(prev=>_objectSpread(_objectSpread({},prev),{},{max:parseInt(e.target.value)})),className:\"w-24 p-1 border rounded\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useLanguage","CategoryFilter","ProviderCard","MapView","useTheme","jsx","_jsx","jsxs","_jsxs","ProvidersPage","providers","setProviders","selectedCategory","setSelectedCategory","priceRange","setPriceRange","min","max","location","setLocation","language","theme","fetchProviders","API_URL","process","env","REACT_APP_API_URL","response","fetch","concat","method","headers","body","JSON","stringify","category","data","json","error","console","className","children","map","provider","normalized","id","name","description","address","phone","whatsapp","email","rating","photos","Array","isArray","services","prices","operatingHours","status","selectedLocation","onLocationSelect","loc","onCategorySelect","type","value","onChange","e","prev","_objectSpread","parseInt","target"],"sources":["C:/Users/Inimfon Udoh/links-site/src/pages/ProvidersPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLanguage } from '../components/language-provider';\r\nimport { CategoryFilter } from '../components/category-filter';\r\nimport { ProviderCard } from '../components/provider-card';\r\nimport { MapView } from '../components/map-view';\r\nimport { useTheme } from '../components/theme-provider';\r\n\r\ninterface Provider {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  category: string;\r\n  address: string;\r\n  phone: string;\r\n  whatsapp: string;\r\n  email: string;\r\n  rating: number;\r\n  photos: string[];\r\n  services: string[];\r\n  prices: string[];\r\n  operatingHours: string;\r\n  status: string;\r\n}\r\n\r\nexport default function ProvidersPage() {\r\n  const [providers, setProviders] = useState<any[]>([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [priceRange, setPriceRange] = useState({ min: 0, max: 1000 });\r\n  const [location, setLocation] = useState('');\r\n  const { language } = useLanguage();\r\n  const { theme } = useTheme();\r\n\r\n  useEffect(() => {\r\n    fetchProviders();\r\n  }, [selectedCategory, priceRange, location]);\r\n\r\n  const fetchProviders = async () => {\r\n    try {\r\n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n      const response = await fetch(`${API_URL}/providers`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          category: selectedCategory,\r\n          priceRange,\r\n          location,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      setProviders(data.providers);\r\n    } catch (error) {\r\n      console.error('Error fetching providers:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <div className=\"flex flex-col md:flex-row gap-4\">\r\n        <div className=\"flex-1\">\r\n          <h2 className=\"text-2xl font-bold mb-4\">\r\n            {language === 'en' ? 'Local Providers' : 'Local Providers'}\r\n          </h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {providers.map((provider) => {\r\n              const normalized = {\r\n                id: typeof provider.id === 'string' ? provider.id : '',\r\n                name: typeof provider.name === 'string' ? provider.name : '',\r\n                category: typeof provider.category === 'string' ? provider.category : '',\r\n                description: typeof provider.description === 'string' ? provider.description : '',\r\n                address: typeof provider.address === 'string' ? provider.address : '',\r\n                phone: typeof provider.phone === 'string' ? provider.phone : '',\r\n                whatsapp: typeof provider.whatsapp === 'string' ? provider.whatsapp : '',\r\n                email: typeof provider.email === 'string' ? provider.email : '',\r\n                rating: typeof provider.rating === 'number' ? provider.rating : 0,\r\n                photos: Array.isArray(provider.photos) ? provider.photos : [],\r\n                services: Array.isArray(provider.services) ? provider.services : [],\r\n                prices: Array.isArray(provider.prices) ? provider.prices : [],\r\n                operatingHours: typeof provider.operatingHours === 'string' ? provider.operatingHours : '',\r\n                status: typeof provider.status === 'string' ? provider.status : '',\r\n              } as any;\r\n              return <ProviderCard key={normalized.id} provider={normalized as any} theme={theme} />;\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"w-full md:w-96\">\r\n          <MapView\r\n            providers={providers}\r\n            selectedLocation={location}\r\n            onLocationSelect={(loc) => setLocation(loc)}\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"md:w-96\">\r\n        <CategoryFilter\r\n          selectedCategory={selectedCategory}\r\n          onCategorySelect={setSelectedCategory}\r\n        />\r\n        <div className=\"mt-4 p-4 bg-white rounded-lg shadow-md\">\r\n          <h3 className=\"text-lg font-semibold mb-2\">\r\n            {language === 'en' ? 'Price Range' : 'Price Range'}\r\n          </h3>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <input\r\n              type=\"number\"\r\n              value={priceRange.min}\r\n              onChange={(e) =>\r\n                setPriceRange((prev) => ({ ...prev, min: parseInt(e.target.value) }))\r\n              }\r\n              className=\"w-24 p-1 border rounded\"\r\n            />\r\n            <span>to</span>\r\n            <input\r\n              type=\"number\"\r\n              value={priceRange.max}\r\n              onChange={(e) =>\r\n                setPriceRange((prev) => ({ ...prev, max: parseInt(e.target.value) }))\r\n              }\r\n              className=\"w-24 p-1 border rounded\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}