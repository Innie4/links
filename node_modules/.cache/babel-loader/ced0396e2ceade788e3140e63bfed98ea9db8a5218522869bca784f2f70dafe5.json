{"ast":null,"code":"export{};import{useState,useEffect}from'react';import{useTheme}from'./theme-provider';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function MapView(_ref){let{providers,selectedLocation,onLocationSelect}=_ref;const[map,setMap]=useState(null);const[markers,setMarkers]=useState([]);const{theme}=useTheme();useEffect(()=>{if(typeof window!=='undefined'&&!map){const script=document.createElement('script');script.src=\"https://maps.googleapis.com/maps/api/js?key=\".concat(process.env.REACT_APP_MAPS_API_KEY,\"&libraries=places\");script.async=true;script.defer=true;document.body.appendChild(script);script.onload=()=>{const mapElement=document.getElementById('map');if(mapElement){const mapOptions={zoom:14,center:{lat:7.3469,lng:7.4451},// Anyigba coordinates\nstyles:theme==='dark'?darkMapStyles:[]};const newMap=new window.google.maps.Map(mapElement,mapOptions);setMap(newMap);// Add search box\nconst searchBox=new window.google.maps.places.SearchBox(document.getElementById('search-box'));searchBox.addListener('places_changed',()=>{const places=searchBox.getPlaces();if(places.length>0){var _place$geometry;const place=places[0];onLocationSelect(place.formatted_address);newMap.setCenter((_place$geometry=place.geometry)===null||_place$geometry===void 0?void 0:_place$geometry.location);}});// Add markers for providers\nproviders.forEach(provider=>{const marker=new window.google.maps.Marker({position:{lat:provider.latitude,lng:provider.longitude},map:newMap,title:provider.name});marker.addListener('click',()=>{window.location.href=\"/provider/\".concat(provider.id);});setMarkers(prev=>[...prev,marker]);});}};}},[providers,theme]);return/*#__PURE__*/_jsxs(\"div\",{className:\"h-[400px] rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"search-box\",className:\"w-full p-2 bg-white dark:bg-gray-800\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search location...\",className:\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-400\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"map\",className:\"h-full\"})]});}const darkMapStyles=[{featureType:'all',elementType:'labels.text.fill',stylers:[{color:'#ffffff'}]},{featureType:'all',elementType:'labels.text.stroke',stylers:[{color:'#000000'},{lightness:13}]},{featureType:'administrative',elementType:'geometry.fill',stylers:[{color:'#000000'}]},{featureType:'administrative',elementType:'geometry.stroke',stylers:[{color:'#144b53'},{lightness:14},{weight:1.4}]},{featureType:'landscape',elementType:'all',stylers:[{color:'#08304b'}]},{featureType:'poi',elementType:'geometry',stylers:[{color:'#0c4152'},{lightness:5}]},{featureType:'road.highway',elementType:'geometry.fill',stylers:[{color:'#000000'}]},{featureType:'road.highway',elementType:'geometry.stroke',stylers:[{color:'#0b434f'},{lightness:25}]},{featureType:'road.arterial',elementType:'geometry.fill',stylers:[{color:'#000000'}]},{featureType:'road.arterial',elementType:'geometry.stroke',stylers:[{color:'#0b3d51'},{lightness:16}]},{featureType:'road.local',elementType:'geometry',stylers:[{color:'#000000'}]},{featureType:'transit',elementType:'geometry',stylers:[{color:'#0f3b48'},{lightness:19}]},{featureType:'water',elementType:'all',stylers:[{color:'#021019'}]}];","map":{"version":3,"names":["useState","useEffect","useTheme","jsx","_jsx","jsxs","_jsxs","MapView","_ref","providers","selectedLocation","onLocationSelect","map","setMap","markers","setMarkers","theme","window","script","document","createElement","src","concat","process","env","REACT_APP_MAPS_API_KEY","async","defer","body","appendChild","onload","mapElement","getElementById","mapOptions","zoom","center","lat","lng","styles","darkMapStyles","newMap","google","maps","Map","searchBox","places","SearchBox","addListener","getPlaces","length","_place$geometry","place","formatted_address","setCenter","geometry","location","forEach","provider","marker","Marker","position","latitude","longitude","title","name","href","id","prev","className","children","type","placeholder","featureType","elementType","stylers","color","lightness","weight"],"sources":["C:/Users/Inimfon Udoh/links-site/src/components/map-view.tsx"],"sourcesContent":["export {};\ndeclare global {\n  interface Window {\n    google: any;\n  }\n}\n\nimport { useState, useEffect } from 'react';\nimport { useTheme } from './theme-provider';\n\ninterface Provider {\n  id: string;\n  name: string;\n  address: string;\n  latitude: number;\n  longitude: number;\n}\n\ninterface MapViewProps {\n  providers: Provider[];\n  selectedLocation: string;\n  onLocationSelect: (location: string) => void;\n}\n\nexport function MapView({\n  providers,\n  selectedLocation,\n  onLocationSelect,\n}: MapViewProps) {\n  const [map, setMap] = useState<any>(null);\n  const [markers, setMarkers] = useState<any[]>([]);\n  const { theme } = useTheme();\n\n  useEffect(() => {\n    if (typeof window !== 'undefined' && !map) {\n      const script = document.createElement('script');\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.REACT_APP_MAPS_API_KEY}&libraries=places`;\n      script.async = true;\n      script.defer = true;\n      document.body.appendChild(script);\n\n      script.onload = () => {\n        const mapElement = document.getElementById('map');\n        if (mapElement) {\n          const mapOptions = {\n            zoom: 14,\n            center: { lat: 7.3469, lng: 7.4451 }, // Anyigba coordinates\n            styles: theme === 'dark' ? darkMapStyles : [],\n          };\n          const newMap = new window.google.maps.Map(mapElement, mapOptions);\n          setMap(newMap);\n\n          // Add search box\n          const searchBox = new window.google.maps.places.SearchBox(\n            document.getElementById('search-box')!\n          );\n          searchBox.addListener('places_changed', () => {\n            const places = searchBox.getPlaces();\n            if (places.length > 0) {\n              const place = places[0];\n              onLocationSelect(place.formatted_address);\n              newMap.setCenter(place.geometry?.location!);\n            }\n          });\n\n          // Add markers for providers\n          providers.forEach((provider) => {\n            const marker = new window.google.maps.Marker({\n              position: { lat: provider.latitude, lng: provider.longitude },\n              map: newMap,\n              title: provider.name,\n            });\n            marker.addListener('click', () => {\n              window.location.href = `/provider/${provider.id}`;\n            });\n            setMarkers((prev) => [...prev, marker]);\n          });\n        }\n      };\n    }\n  }, [providers, theme]);\n\n  return (\n    <div className=\"h-[400px] rounded-lg overflow-hidden\">\n      <div id=\"search-box\" className=\"w-full p-2 bg-white dark:bg-gray-800\">\n        <input\n          type=\"text\"\n          placeholder=\"Search location...\"\n          className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-400\"\n        />\n      </div>\n      <div id=\"map\" className=\"h-full\" />\n    </div>\n  );\n}\n\nconst darkMapStyles = [\n  {\n    featureType: 'all',\n    elementType: 'labels.text.fill',\n    stylers: [{ color: '#ffffff' }],\n  },\n  {\n    featureType: 'all',\n    elementType: 'labels.text.stroke',\n    stylers: [{ color: '#000000' }, { lightness: 13 }],\n  },\n  {\n    featureType: 'administrative',\n    elementType: 'geometry.fill',\n    stylers: [{ color: '#000000' }],\n  },\n  {\n    featureType: 'administrative',\n    elementType: 'geometry.stroke',\n    stylers: [{ color: '#144b53' }, { lightness: 14 }, { weight: 1.4 }],\n  },\n  {\n    featureType: 'landscape',\n    elementType: 'all',\n    stylers: [{ color: '#08304b' }],\n  },\n  {\n    featureType: 'poi',\n    elementType: 'geometry',\n    stylers: [{ color: '#0c4152' }, { lightness: 5 }],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'geometry.fill',\n    stylers: [{ color: '#000000' }],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'geometry.stroke',\n    stylers: [{ color: '#0b434f' }, { lightness: 25 }],\n  },\n  {\n    featureType: 'road.arterial',\n    elementType: 'geometry.fill',\n    stylers: [{ color: '#000000' }],\n  },\n  {\n    featureType: 'road.arterial',\n    elementType: 'geometry.stroke',\n    stylers: [{ color: '#0b3d51' }, { lightness: 16 }],\n  },\n  {\n    featureType: 'road.local',\n    elementType: 'geometry',\n    stylers: [{ color: '#000000' }],\n  },\n  {\n    featureType: 'transit',\n    elementType: 'geometry',\n    stylers: [{ color: '#0f3b48' }, { lightness: 19 }],\n  },\n  {\n    featureType: 'water',\n    elementType: 'all',\n    stylers: [{ color: '#021019' }],\n  },\n]\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}