{"ast":null,"code":"import{useState,useEffect}from'react';import{MagnifyingGlassIcon}from'@heroicons/react/24/outline';import{useTheme}from'./theme-provider';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function SearchBar(){const[searchTerm,setSearchTerm]=useState('');const[suggestions,setSuggestions]=useState([]);const[showSuggestions,setShowSuggestions]=useState(false);const[recentSearches,setRecentSearches]=useState([]);const{theme}=useTheme();useEffect(()=>{// Load recent searches from localStorage\nconst stored=localStorage.getItem('recentSearches');if(stored)setRecentSearches(JSON.parse(stored));},[]);const saveSearchTerm=term=>{let updated=[term,...recentSearches.filter(t=>t!==term)];if(updated.length>5)updated=updated.slice(0,5);setRecentSearches(updated);localStorage.setItem('recentSearches',JSON.stringify(updated));};const handleInputChange=e=>{const value=e.target.value;setSearchTerm(value);// Simulate API call for suggestions\nif(value.length>2){fetchSuggestions(value);}else{setSuggestions([]);}};const fetchSuggestions=async query=>{try{const response=await fetch(\"/api/search/suggestions?q=\".concat(query));const data=await response.json();setSuggestions(data.suggestions);setShowSuggestions(true);}catch(error){console.error('Error fetching suggestions:',error);}};const handleSuggestionClick=suggestion=>{setSearchTerm(suggestion.name);setShowSuggestions(false);saveSearchTerm(suggestion.name);window.location.href=\"/provider/\".concat(suggestion.id);};const handleRecentClick=term=>{setSearchTerm(term);setShowSuggestions(false);saveSearchTerm(term);// Optionally trigger a search or suggestions fetch\n};return/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:handleInputChange,onFocus:()=>setShowSuggestions(true),onBlur:()=>setTimeout(()=>setShowSuggestions(false),200),placeholder:\"Search for providers, services, or categories...\",className:\"\\n            w-full\\n            pl-10\\n            pr-4\\n            py-2\\n            rounded-lg\\n            focus:outline-none\\n            focus:ring-2\\n            transition-colors\\n            duration-200\\n            \".concat(theme==='dark'?'bg-gray-800 text-white focus:ring-primary-500':'bg-white text-gray-900 focus:ring-primary-400',\"\\n          \")}),showSuggestions&&searchTerm.length<=2&&recentSearches.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"\\n            absolute\\n            w-full\\n            bg-white\\n            rounded-lg\\n            shadow-lg\\n            mt-1\\n            max-h-60\\n            overflow-auto\\n            z-50\\n            \".concat(theme==='dark'?'bg-gray-800 text-white':'bg-white text-gray-900',\"\\n          \"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 text-xs text-gray-400\",children:\"Recent Searches\"}),recentSearches.map(term=>/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 cursor-pointer hover:bg-primary-50 dark:hover:bg-primary-900\",onClick:()=>handleRecentClick(term),children:/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:term})},term))]}),showSuggestions&&suggestions.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"\\n            absolute\\n            w-full\\n            bg-white\\n            rounded-lg\\n            shadow-lg\\n            mt-1\\n            max-h-60\\n            overflow-auto\\n            z-50\\n            \".concat(theme==='dark'?'bg-gray-800 text-white':'bg-white text-gray-900',\"\\n          \"),children:suggestions.map(suggestion=>/*#__PURE__*/_jsxs(\"div\",{className:\"\\n                  px-4\\n                  py-3\\n                  cursor-pointer\\n                  hover:bg-primary-50\\n                  \".concat(theme==='dark'?'hover:bg-primary-900':'hover:bg-primary-50',\"\\n                \"),onClick:()=>handleSuggestionClick(suggestion),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:suggestion.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[suggestion.category,\" \\u2022 \",suggestion.address]})]},suggestion.id))})]})});}","map":{"version":3,"names":["useState","useEffect","MagnifyingGlassIcon","useTheme","jsx","_jsx","jsxs","_jsxs","SearchBar","searchTerm","setSearchTerm","suggestions","setSuggestions","showSuggestions","setShowSuggestions","recentSearches","setRecentSearches","theme","stored","localStorage","getItem","JSON","parse","saveSearchTerm","term","updated","filter","t","length","slice","setItem","stringify","handleInputChange","e","value","target","fetchSuggestions","query","response","fetch","concat","data","json","error","console","handleSuggestionClick","suggestion","name","window","location","href","id","handleRecentClick","className","children","type","onChange","onFocus","onBlur","setTimeout","placeholder","map","onClick","category","address"],"sources":["C:/Users/Inimfon Udoh/links-site/src/components/search-bar.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { MagnifyingGlassIcon } from '@heroicons/react/24/outline'\nimport { useTheme } from './theme-provider'\n\ninterface SearchSuggestion {\n  id: string\n  name: string\n  category: string\n  address: string\n}\n\nexport function SearchBar() {\n  const [searchTerm, setSearchTerm] = useState('')\n  const [suggestions, setSuggestions] = useState<SearchSuggestion[]>([])\n  const [showSuggestions, setShowSuggestions] = useState(false)\n  const [recentSearches, setRecentSearches] = useState<string[]>([])\n  const { theme } = useTheme()\n\n  useEffect(() => {\n    // Load recent searches from localStorage\n    const stored = localStorage.getItem('recentSearches')\n    if (stored) setRecentSearches(JSON.parse(stored))\n  }, [])\n\n  const saveSearchTerm = (term: string) => {\n    let updated = [term, ...recentSearches.filter(t => t !== term)]\n    if (updated.length > 5) updated = updated.slice(0, 5)\n    setRecentSearches(updated)\n    localStorage.setItem('recentSearches', JSON.stringify(updated))\n  }\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value\n    setSearchTerm(value)\n    \n    // Simulate API call for suggestions\n    if (value.length > 2) {\n      fetchSuggestions(value)\n    } else {\n      setSuggestions([])\n    }\n  }\n\n  const fetchSuggestions = async (query: string) => {\n    try {\n      const response = await fetch(`/api/search/suggestions?q=${query}`)\n      const data = await response.json()\n      setSuggestions(data.suggestions)\n      setShowSuggestions(true)\n    } catch (error) {\n      console.error('Error fetching suggestions:', error)\n    }\n  }\n\n  const handleSuggestionClick = (suggestion: SearchSuggestion) => {\n    setSearchTerm(suggestion.name)\n    setShowSuggestions(false)\n    saveSearchTerm(suggestion.name)\n    window.location.href = `/provider/${suggestion.id}`\n  }\n\n  const handleRecentClick = (term: string) => {\n    setSearchTerm(term)\n    setShowSuggestions(false)\n    saveSearchTerm(term)\n    // Optionally trigger a search or suggestions fetch\n  }\n\n  return (\n    <div className=\"relative w-full max-w-2xl mx-auto\">\n      <div className=\"relative\">\n        <MagnifyingGlassIcon className=\"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n        <input\n          type=\"text\"\n          value={searchTerm}\n          onChange={handleInputChange}\n          onFocus={() => setShowSuggestions(true)}\n          onBlur={() => setTimeout(() => setShowSuggestions(false), 200)}\n          placeholder=\"Search for providers, services, or categories...\"\n          className={`\n            w-full\n            pl-10\n            pr-4\n            py-2\n            rounded-lg\n            focus:outline-none\n            focus:ring-2\n            transition-colors\n            duration-200\n            ${\n              theme === 'dark'\n                ? 'bg-gray-800 text-white focus:ring-primary-500'\n                : 'bg-white text-gray-900 focus:ring-primary-400'\n            }\n          `}\n        />\n        {showSuggestions && searchTerm.length <= 2 && recentSearches.length > 0 && (\n          <div className={`\n            absolute\n            w-full\n            bg-white\n            rounded-lg\n            shadow-lg\n            mt-1\n            max-h-60\n            overflow-auto\n            z-50\n            ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'}\n          `}>\n            <div className=\"px-4 py-2 text-xs text-gray-400\">Recent Searches</div>\n            {recentSearches.map((term) => (\n              <div\n                key={term}\n                className=\"px-4 py-3 cursor-pointer hover:bg-primary-50 dark:hover:bg-primary-900\"\n                onClick={() => handleRecentClick(term)}\n              >\n                <div className=\"font-medium\">{term}</div>\n              </div>\n            ))}\n          </div>\n        )}\n        {showSuggestions && suggestions.length > 0 && (\n          <div className={`\n            absolute\n            w-full\n            bg-white\n            rounded-lg\n            shadow-lg\n            mt-1\n            max-h-60\n            overflow-auto\n            z-50\n            ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'}\n          `}>\n            {suggestions.map((suggestion) => (\n              <div\n                key={suggestion.id}\n                className={`\n                  px-4\n                  py-3\n                  cursor-pointer\n                  hover:bg-primary-50\n                  ${\n                    theme === 'dark'\n                      ? 'hover:bg-primary-900'\n                      : 'hover:bg-primary-50'\n                  }\n                `}\n                onClick={() => handleSuggestionClick(suggestion)}\n              >\n                <div className=\"font-medium\">{suggestion.name}</div>\n                <div className=\"text-sm text-gray-500\">\n                  {suggestion.category} â€¢ {suggestion.address}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}