{"ast":null,"code":"import React,{useEffect,useState}from'react';import{SearchBar}from'../components/search-bar';import{CategoryFilter}from'../components/category-filter';import{ProviderCard}from'../components/provider-card';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function HomePage(){const[recentProviders,setRecentProviders]=useState([]);const[loading,setLoading]=useState(true);const[showBanner,setShowBanner]=useState(true);const[newsletterEmail,setNewsletterEmail]=useState('');const[newsletterSuccess,setNewsletterSuccess]=useState(false);useEffect(()=>{// Get recently viewed provider IDs from localStorage\nconst ids=JSON.parse(localStorage.getItem('recentProviders')||'[]');if(ids.length===0){setLoading(false);return;}// Fetch provider details for each ID\nPromise.all(ids.map(id=>fetch(\"/api/providers/\".concat(id)).then(res=>res.json()).then(data=>data.provider).catch(()=>null))).then(providers=>{setRecentProviders(providers.filter(Boolean));setLoading(false);});},[]);const handleNewsletterSubmit=e=>{e.preventDefault();// TODO: Integrate with real newsletter service\nsetNewsletterSuccess(true);setNewsletterEmail('');setTimeout(()=>setNewsletterSuccess(false),3000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[showBanner&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-primary-600 to-blue-500 text-white p-4 flex items-center justify-between rounded shadow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"\\uD83C\\uDF89 New! Discover featured providers and get exclusive updates.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowBanner(false),className:\"ml-4 px-2 py-1 bg-white text-primary-600 rounded hover:bg-gray-100\",children:\"Dismiss\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"py-8 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-2\",children:\"Welcome to Links Local Search\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",children:\"Find the best local providers and services in Anyigba.\"})]}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(SearchBar,{})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(CategoryFilter,{selectedCategory:'',onCategorySelect:()=>{}})}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Featured Providers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-span-full text-gray-400\",children:\"No featured providers yet.\"})})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Recently Viewed Providers\"}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):recentProviders.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"You haven't viewed any providers yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:recentProviders.map(provider=>{const normalized={id:provider.id,name:provider.name,category:provider.category,description:provider.description||'',address:provider.address||'',phone:provider.phone||'',whatsapp:provider.whatsapp||'',email:provider.email||'',rating:provider.rating||0,photos:provider.photos||[],services:provider.services||[],prices:provider.prices||[],operatingHours:provider.operatingHours||'',status:provider.status||''};return/*#__PURE__*/_jsx(ProviderCard,{provider:normalized,theme:\"light\"},normalized.id);})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"py-8 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Stay Updated!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleNewsletterSubmit,className:\"max-w-md mx-auto flex flex-col md:flex-row gap-2 items-center justify-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:newsletterEmail,onChange:e=>setNewsletterEmail(e.target.value),placeholder:\"Enter your email\",required:true,className:\"p-2 rounded border w-full md:w-auto\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700\",children:\"Subscribe\"})]}),newsletterSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-green-600\",children:\"Thank you for subscribing!\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","SearchBar","CategoryFilter","ProviderCard","jsx","_jsx","jsxs","_jsxs","HomePage","recentProviders","setRecentProviders","loading","setLoading","showBanner","setShowBanner","newsletterEmail","setNewsletterEmail","newsletterSuccess","setNewsletterSuccess","ids","JSON","parse","localStorage","getItem","length","Promise","all","map","id","fetch","concat","then","res","json","data","provider","catch","providers","filter","Boolean","handleNewsletterSubmit","e","preventDefault","setTimeout","className","children","onClick","selectedCategory","onCategorySelect","normalized","name","category","description","address","phone","whatsapp","email","rating","photos","services","prices","operatingHours","status","theme","onSubmit","type","value","onChange","target","placeholder","required"],"sources":["C:/Users/Inimfon Udoh/links-site/src/pages/HomePage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { SearchBar } from '../components/search-bar';\r\nimport { CategoryFilter } from '../components/category-filter';\r\nimport { ProviderCard } from '../components/provider-card';\r\n\r\ninterface Provider {\r\n  id: string;\r\n  name: string;\r\n  category: string;\r\n  description: string;\r\n  address: string;\r\n  phone: string;\r\n  whatsapp: string;\r\n  email: string;\r\n  rating: number;\r\n  photos: string[];\r\n  services: string[];\r\n  prices: string[];\r\n  operatingHours: string;\r\n  status: string;\r\n}\r\n\r\nexport default function HomePage() {\r\n  const [recentProviders, setRecentProviders] = useState<Provider[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showBanner, setShowBanner] = useState(true);\r\n  const [newsletterEmail, setNewsletterEmail] = useState('');\r\n  const [newsletterSuccess, setNewsletterSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Get recently viewed provider IDs from localStorage\r\n    const ids = JSON.parse(localStorage.getItem('recentProviders') || '[]');\r\n    if (ids.length === 0) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    // Fetch provider details for each ID\r\n    Promise.all(\r\n      ids.map((id: string) =>\r\n        fetch(`/api/providers/${id}`)\r\n          .then(res => res.json())\r\n          .then(data => data.provider)\r\n          .catch(() => null)\r\n      )\r\n    ).then(providers => {\r\n      setRecentProviders(providers.filter(Boolean));\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  const handleNewsletterSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // TODO: Integrate with real newsletter service\r\n    setNewsletterSuccess(true);\r\n    setNewsletterEmail('');\r\n    setTimeout(() => setNewsletterSuccess(false), 3000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Promotional Banner */}\r\n      {showBanner && (\r\n        <div className=\"bg-gradient-to-r from-primary-600 to-blue-500 text-white p-4 flex items-center justify-between rounded shadow\">\r\n          <span className=\"font-semibold\">ðŸŽ‰ New! Discover featured providers and get exclusive updates.</span>\r\n          <button onClick={() => setShowBanner(false)} className=\"ml-4 px-2 py-1 bg-white text-primary-600 rounded hover:bg-gray-100\">Dismiss</button>\r\n        </div>\r\n      )}\r\n      <section className=\"py-8 text-center\">\r\n        <h1 className=\"text-4xl font-bold mb-2\">Welcome to Links Local Search</h1>\r\n        <p className=\"text-lg text-gray-600\">Find the best local providers and services in Anyigba.</p>\r\n      </section>\r\n      <section>\r\n        <SearchBar />\r\n      </section>\r\n      <section>\r\n        <CategoryFilter selectedCategory={''} onCategorySelect={() => {}} />\r\n      </section>\r\n      {/* Featured Providers (placeholder) */}\r\n      <section>\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Featured Providers</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {/* TODO: Replace with real featured providers */}\r\n          <div className=\"col-span-full text-gray-400\">No featured providers yet.</div>\r\n        </div>\r\n      </section>\r\n      {/* Recently Viewed Providers */}\r\n      <section>\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Recently Viewed Providers</h2>\r\n        {loading ? (\r\n          <div>Loading...</div>\r\n        ) : recentProviders.length === 0 ? (\r\n          <div className=\"text-gray-500\">You haven't viewed any providers yet.</div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {recentProviders.map(provider => {\r\n              const normalized = {\r\n                id: provider.id,\r\n                name: provider.name,\r\n                category: provider.category,\r\n                description: provider.description || '',\r\n                address: provider.address || '',\r\n                phone: provider.phone || '',\r\n                whatsapp: provider.whatsapp || '',\r\n                email: provider.email || '',\r\n                rating: provider.rating || 0,\r\n                photos: provider.photos || [],\r\n                services: provider.services || [],\r\n                prices: provider.prices || [],\r\n                operatingHours: provider.operatingHours || '',\r\n                status: provider.status || '',\r\n              };\r\n              return <ProviderCard key={normalized.id} provider={normalized} theme=\"light\" />;\r\n            })}\r\n          </div>\r\n        )}\r\n      </section>\r\n      {/* Newsletter Signup */}\r\n      <section className=\"py-8 text-center\">\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Stay Updated!</h2>\r\n        <form onSubmit={handleNewsletterSubmit} className=\"max-w-md mx-auto flex flex-col md:flex-row gap-2 items-center justify-center\">\r\n          <input\r\n            type=\"email\"\r\n            value={newsletterEmail}\r\n            onChange={e => setNewsletterEmail(e.target.value)}\r\n            placeholder=\"Enter your email\"\r\n            required\r\n            className=\"p-2 rounded border w-full md:w-auto\"\r\n          />\r\n          <button type=\"submit\" className=\"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700\">Subscribe</button>\r\n        </form>\r\n        {newsletterSuccess && <div className=\"mt-2 text-green-600\">Thank you for subscribing!</div>}\r\n      </section>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}