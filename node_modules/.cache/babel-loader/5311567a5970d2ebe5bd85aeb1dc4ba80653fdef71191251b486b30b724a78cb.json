{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Inimfon Udoh\\\\links-site\\\\src\\\\components\\\\map-view.tsx\",\n  _s = $RefreshSig$();\nexport {};\nimport { useState, useEffect } from 'react';\nimport { useTheme } from './theme-provider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function MapView({\n  providers,\n  selectedLocation,\n  onLocationSelect\n}) {\n  _s();\n  const [map, setMap] = useState(null);\n  const [markers, setMarkers] = useState([]);\n  const {\n    theme\n  } = useTheme();\n  useEffect(() => {\n    if (typeof window !== 'undefined' && !map) {\n      const script = document.createElement('script');\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.REACT_APP_MAPS_API_KEY}&libraries=places`;\n      script.async = true;\n      script.defer = true;\n      document.body.appendChild(script);\n      script.onload = () => {\n        const mapElement = document.getElementById('map');\n        if (mapElement) {\n          const mapOptions = {\n            zoom: 14,\n            center: {\n              lat: 7.3469,\n              lng: 7.4451\n            },\n            // Anyigba coordinates\n            styles: theme === 'dark' ? darkMapStyles : []\n          };\n          const newMap = new window.google.maps.Map(mapElement, mapOptions);\n          setMap(newMap);\n\n          // Add search box\n          const searchBox = new window.google.maps.places.SearchBox(document.getElementById('search-box'));\n          searchBox.addListener('places_changed', () => {\n            const places = searchBox.getPlaces();\n            if (places.length > 0) {\n              var _place$geometry;\n              const place = places[0];\n              onLocationSelect(place.formatted_address);\n              newMap.setCenter((_place$geometry = place.geometry) === null || _place$geometry === void 0 ? void 0 : _place$geometry.location);\n            }\n          });\n\n          // Add markers for providers\n          providers.forEach(provider => {\n            const marker = new window.google.maps.Marker({\n              position: {\n                lat: provider.latitude,\n                lng: provider.longitude\n              },\n              map: newMap,\n              title: provider.name\n            });\n            marker.addListener('click', () => {\n              window.location.href = `/provider/${provider.id}`;\n            });\n            setMarkers(prev => [...prev, marker]);\n          });\n        }\n      };\n    }\n  }, [providers, theme]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-[400px] rounded-lg overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"search-box\",\n      className: \"w-full p-2 bg-white dark:bg-gray-800\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search location...\",\n        className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"map\",\n      className: \"h-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s(MapView, \"SfPFhlpKnWOrKSfpf+c338WBC04=\", false, function () {\n  return [useTheme];\n});\n_c = MapView;\nconst darkMapStyles = [{\n  featureType: 'all',\n  elementType: 'labels.text.fill',\n  stylers: [{\n    color: '#ffffff'\n  }]\n}, {\n  featureType: 'all',\n  elementType: 'labels.text.stroke',\n  stylers: [{\n    color: '#000000'\n  }, {\n    lightness: 13\n  }]\n}, {\n  featureType: 'administrative',\n  elementType: 'geometry.fill',\n  stylers: [{\n    color: '#000000'\n  }]\n}, {\n  featureType: 'administrative',\n  elementType: 'geometry.stroke',\n  stylers: [{\n    color: '#144b53'\n  }, {\n    lightness: 14\n  }, {\n    weight: 1.4\n  }]\n}, {\n  featureType: 'landscape',\n  elementType: 'all',\n  stylers: [{\n    color: '#08304b'\n  }]\n}, {\n  featureType: 'poi',\n  elementType: 'geometry',\n  stylers: [{\n    color: '#0c4152'\n  }, {\n    lightness: 5\n  }]\n}, {\n  featureType: 'road.highway',\n  elementType: 'geometry.fill',\n  stylers: [{\n    color: '#000000'\n  }]\n}, {\n  featureType: 'road.highway',\n  elementType: 'geometry.stroke',\n  stylers: [{\n    color: '#0b434f'\n  }, {\n    lightness: 25\n  }]\n}, {\n  featureType: 'road.arterial',\n  elementType: 'geometry.fill',\n  stylers: [{\n    color: '#000000'\n  }]\n}, {\n  featureType: 'road.arterial',\n  elementType: 'geometry.stroke',\n  stylers: [{\n    color: '#0b3d51'\n  }, {\n    lightness: 16\n  }]\n}, {\n  featureType: 'road.local',\n  elementType: 'geometry',\n  stylers: [{\n    color: '#000000'\n  }]\n}, {\n  featureType: 'transit',\n  elementType: 'geometry',\n  stylers: [{\n    color: '#0f3b48'\n  }, {\n    lightness: 19\n  }]\n}, {\n  featureType: 'water',\n  elementType: 'all',\n  stylers: [{\n    color: '#021019'\n  }]\n}];\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["useState","useEffect","useTheme","jsxDEV","_jsxDEV","MapView","providers","selectedLocation","onLocationSelect","_s","map","setMap","markers","setMarkers","theme","window","script","document","createElement","src","process","env","REACT_APP_MAPS_API_KEY","async","defer","body","appendChild","onload","mapElement","getElementById","mapOptions","zoom","center","lat","lng","styles","darkMapStyles","newMap","google","maps","Map","searchBox","places","SearchBox","addListener","getPlaces","length","_place$geometry","place","formatted_address","setCenter","geometry","location","forEach","provider","marker","Marker","position","latitude","longitude","title","name","href","id","prev","className","children","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","_c","featureType","elementType","stylers","color","lightness","weight","$RefreshReg$"],"sources":["C:/Users/Inimfon Udoh/links-site/src/components/map-view.tsx"],"sourcesContent":["export {};\ndeclare global {\n  interface Window {\n    google: any;\n  }\n}\n\nimport { useState, useEffect } from 'react';\nimport { useTheme } from './theme-provider';\n\ninterface Provider {\n  id: string;\n  name: string;\n  address: string;\n  latitude: number;\n  longitude: number;\n}\n\ninterface MapViewProps {\n  providers: Provider[];\n  selectedLocation: string;\n  onLocationSelect: (location: string) => void;\n}\n\nexport function MapView({\n  providers,\n  selectedLocation,\n  onLocationSelect,\n}: MapViewProps) {\n  const [map, setMap] = useState<any>(null);\n  const [markers, setMarkers] = useState<any[]>([]);\n  const { theme } = useTheme();\n\n  useEffect(() => {\n    if (typeof window !== 'undefined' && !map) {\n      const script = document.createElement('script');\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.REACT_APP_MAPS_API_KEY}&libraries=places`;\n      script.async = true;\n      script.defer = true;\n      document.body.appendChild(script);\n\n      script.onload = () => {\n        const mapElement = document.getElementById('map');\n        if (mapElement) {\n          const mapOptions = {\n            zoom: 14,\n            center: { lat: 7.3469, lng: 7.4451 }, // Anyigba coordinates\n            styles: theme === 'dark' ? darkMapStyles : [],\n          };\n          const newMap = new window.google.maps.Map(mapElement, mapOptions);\n          setMap(newMap);\n\n          // Add search box\n          const searchBox = new window.google.maps.places.SearchBox(\n            document.getElementById('search-box')!\n          );\n          searchBox.addListener('places_changed', () => {\n            const places = searchBox.getPlaces();\n            if (places.length > 0) {\n              const place = places[0];\n              onLocationSelect(place.formatted_address);\n              newMap.setCenter(place.geometry?.location!);\n            }\n          });\n\n          // Add markers for providers\n          providers.forEach((provider) => {\n            const marker = new window.google.maps.Marker({\n              position: { lat: provider.latitude, lng: provider.longitude },\n              map: newMap,\n              title: provider.name,\n            });\n            marker.addListener('click', () => {\n              window.location.href = `/provider/${provider.id}`;\n            });\n            setMarkers((prev) => [...prev, marker]);\n          });\n        }\n      };\n    }\n  }, [providers, theme]);\n\n  return (\n    <div className=\"h-[400px] rounded-lg overflow-hidden\">\n      <div id=\"search-box\" className=\"w-full p-2 bg-white dark:bg-gray-800\">\n        <input\n          type=\"text\"\n          placeholder=\"Search location...\"\n          className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-400\"\n        />\n      </div>\n      <div id=\"map\" className=\"h-full\" />\n    </div>\n  );\n}\n\nconst darkMapStyles = [\n  {\n    featureType: 'all',\n    elementType: 'labels.text.fill',\n    stylers: [{ color: '#ffffff' }],\n  },\n  {\n    featureType: 'all',\n    elementType: 'labels.text.stroke',\n    stylers: [{ color: '#000000' }, { lightness: 13 }],\n  },\n  {\n    featureType: 'administrative',\n    elementType: 'geometry.fill',\n    stylers: [{ color: '#000000' }],\n  },\n  {\n    featureType: 'administrative',\n    elementType: 'geometry.stroke',\n    stylers: [{ color: '#144b53' }, { lightness: 14 }, { weight: 1.4 }],\n  },\n  {\n    featureType: 'landscape',\n    elementType: 'all',\n    stylers: [{ color: '#08304b' }],\n  },\n  {\n    featureType: 'poi',\n    elementType: 'geometry',\n    stylers: [{ color: '#0c4152' }, { lightness: 5 }],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'geometry.fill',\n    stylers: [{ color: '#000000' }],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'geometry.stroke',\n    stylers: [{ color: '#0b434f' }, { lightness: 25 }],\n  },\n  {\n    featureType: 'road.arterial',\n    elementType: 'geometry.fill',\n    stylers: [{ color: '#000000' }],\n  },\n  {\n    featureType: 'road.arterial',\n    elementType: 'geometry.stroke',\n    stylers: [{ color: '#0b3d51' }, { lightness: 16 }],\n  },\n  {\n    featureType: 'road.local',\n    elementType: 'geometry',\n    stylers: [{ color: '#000000' }],\n  },\n  {\n    featureType: 'transit',\n    elementType: 'geometry',\n    stylers: [{ color: '#0f3b48' }, { lightness: 19 }],\n  },\n  {\n    featureType: 'water',\n    elementType: 'all',\n    stylers: [{ color: '#021019' }],\n  },\n]\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}